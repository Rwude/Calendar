<div style="position: relative" #container>
    <svg #dynamicGrid width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
    </svg>
        @for (item of gridPositions; track item.eventIndex) {
            @if (item.width! > 0) {
                <calendar-grid-item
                    cdkDrag
                    (cdkDragMoved)="dragMove($event, item.eventIndex)"
                    (cdkDragEnded)="dragEnd($event, item.eventIndex)"
                    [cdkDragFreeDragPosition]="dragPosition"
                    class="calendarItem"
                    [eventItem]="eventItems[item.eventIndex]"
                    [width]="item.width!"
                    [height]="20"
                    [color]="eventItems[item.eventIndex].color ? eventItems[item.eventIndex].color! : 'black'"
                    [backgroundColor]="eventItems[item.eventIndex].backgroundColor ? eventItems[item.eventIndex].backgroundColor! : 'blue'"
                    [style.visibility]="item.visible ? 'visible' : 'hidden'"
                    [style.top.px]="item.top"
                    [style.left.px]="item.left"
                    [style.z-index]="item.zIndex"
                ></calendar-grid-item>
            }
        }

    @for (array of groupPositions; track array) {
        @for (groupItem of array; track groupItem) {
            <group-event-preview
                class="groupItem"
                [width]="groupItem.width!"
                [height]="5"
                [color]="groupItem.color"
                [style.top.px]="groupItem.top!"
                [style.left.px]="groupItem.left"
            >
            </group-event-preview>
        }
    }

</div>
